<div class="dashboard-container">
  <!-- Contenido principal -->
  <main class="dashboard-main">
    <div class="dashboard-content">
      <!-- Header unificado -->
      <section class="unified-header" *ngIf="usuario()">
        <div class="header-content">
          <div class="profile-avatar">
            {{ obtenerIniciales() }}
          </div>
          <div class="welcome-details">
            <h1>춰Hola, {{ obtenerPrimerNombre() }}! 游녦</h1>
            <p>Bienvenido de vuelta a tu centro de control del p치del</p>
          </div>
        </div>
      </section>

      <!-- Pr칩ximos partidos -->
      <section class="upcoming-matches">
        <h2>Tus pr칩ximos partidos</h2>

        <div *ngIf="upcomingMatches().length > 0; else noUpcoming" class="matches-list">
          <div class="match-card modern" *ngFor="let m of upcomingMatches(); trackBy: trackByUpcomingId">
            <!-- Header con degradado azul -->
            <div class="match-header-gradient">
              <div class="match-date">{{ formatDateLong(m.fecha) }}</div>
              <div class="match-time">{{ formatTime(m.fecha) }}</div>
              <div class="match-location">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
                {{ m.ubicacion || 'Por confirmar' }}
              </div>
            </div>

            <!-- 츼rea de jugadores como en la captura -->
            <div class="match-players-area">
              <!-- Equipo 1 - jugadores en vertical -->
              <div class="team-vertical">
                <div class="player-stacked">
                  <div class="player-avatar-compact">{{ getPlayerInitials(m.jugadores.equipo1.jugador1) }}</div>
                  <div class="player-name-compact">{{ m.jugadores.equipo1.jugador1 }}</div>
                </div>
                <div class="player-stacked">
                  <div class="player-avatar-compact">{{ getPlayerInitials(m.jugadores.equipo1.jugador2) }}</div>
                  <div class="player-name-compact">{{ m.jugadores.equipo1.jugador2 }}</div>
                </div>
              </div>

              <!-- L칤nea separadora vertical como en la captura -->
              <div class="center-divider">
                <div class="divider-line"></div>
              </div>

              <!-- Equipo 2 - jugadores en vertical -->
              <div class="team-vertical">
                <div class="player-stacked">
                  <div class="player-avatar-compact">{{ getPlayerInitials(m.jugadores.equipo2.jugador1) }}</div>
                  <div class="player-name-compact">{{ m.jugadores.equipo2.jugador1 }}</div>
                </div>
                <div class="player-stacked">
                  <div class="player-avatar-compact">{{ getPlayerInitials(m.jugadores.equipo2.jugador2) }}</div>
                  <div class="player-name-compact">{{ m.jugadores.equipo2.jugador2 }}</div>
                </div>
              </div>
            </div>

            <!-- Footer con informaci칩n del partido -->
            <div class="match-footer">
              <div class="match-info-chips">
                <span class="info-chip duration">{{ m.duracion }}</span>
                <span class="info-chip type" [class.torneo]="m.tipo === 'torneo'" [class.partido]="m.tipo === 'partido'">
                  {{ m.tipo === 'torneo' ? 'Torneo' : 'Partido' }}
                </span>
                <span class="info-chip match-type" [class.igualado]="m.tipoPartido === 'igualado'" [class.no-igualado]="m.tipoPartido === 'no-igualado'">
                  {{ m.tipoPartido === 'igualado' ? 'Igualado' : 'No igualado' }}
                </span>
                <span class="info-chip rank" *ngIf="m.tipoPartido === 'igualado' && m.rango" [class]="'rank ' + m.rango.toLowerCase()">
                  <span class="rank-emoji">
                    {{ m.rango === 'PLATINO' ? '游눑' : 
                       m.rango === 'ORO' ? '游볞' : 
                       m.rango === 'PLATA' ? '游볟' : 
                       m.rango === 'BRONCE' ? '游볠' : 
                       m.rango === 'COBRE' ? '游릶' : '?' }}
                  </span>
                </span>
              </div>
            </div>
          </div>
        </div>

        <ng-template #noUpcoming>
          <div class="no-upcoming">
            <div class="icon">游</div>
            <div class="text">
              <h3>No tienes partidos programados</h3>
              <p>Crea o ap칰ntate a un partido o torneo para verlo aqu칤.</p>
            </div>
          </div>
        </ng-template>
      </section>

      <!-- Acciones r치pidas -->
      <section class="quick-actions">
        <h2>Acciones r치pidas</h2>
        <div class="actions-grid">
          <!-- Partidos -->
          <div class="action-card coming-soon">
            <div class="action-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M12 6v6l4 2"></path>
              </svg>
            </div>
            <h3>Partidos</h3>
            <p>Programa y gestiona tus partidos</p>
            <span class="coming-soon-badge">Pr칩ximamente</span>
          </div>

          <!-- Torneos -->
          <div class="action-card coming-soon">
            <div class="action-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="8" r="7"></circle>
                <polyline points="8.21,13.89 7,23 12,20 17,23 15.79,13.88"></polyline>
              </svg>
            </div>
            <h3>Torneos</h3>
            <p>Participa en competiciones</p>
            <span class="coming-soon-badge">Pr칩ximamente</span>
          </div>

          <!-- Clubes -->
          <div class="action-card" (click)="navegarA('/jugador/clubes')">
            <div class="action-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
            </div>
            <h3>Clubes</h3>
            <p>Explora y 칰nete a clubes de p치del</p>
          </div>
        </div>
      </section>
    </div>
  </main>
</div>
